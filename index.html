<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surpresa de Natal</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body>
    <div class="container">
        <div id="welcome-section">
            <h1>ğŸ„ Feliz Natal! ğŸ</h1>
            <p class="special-message">Que este Natal seja tÃ£o especial quanto os momentos que passamos juntos!</p>
            <p class="date-message">AlmoÃ§o de primos: Domingo, 15 de Dezembro de 2024</p>
            
            <div class="christmas-image">
                <img src="img/primos.JPG" alt="Feliz Natal" id="christmasImg">
            </div>
            
            <div class="game-instructions">
                <h2>Bem-vinda ao teu desafio! ğŸ</h2>
                
                <div class="intro-text">
                    <p>Pronta para comeÃ§ar a aventura, Lili? ğŸ¯</p>
                    <p>Junta os primos e vamos descobrir onde estÃ¡ a chave do teu presente!</p>
                </div>

                <div class="challenge-preview">
                    <h3>O que te espera? ğŸ¤”</h3>
                    <ul class="preview-list">
                        <li>6 perguntas divertidas sobre os primos</li>
                        <li>Cada resposta correta revela um nÃºmero especial</li>
                        <li>Um enigma final que te levarÃ¡ atÃ© Ã  chave!</li>
                    </ul>
                    
                    <div class="team-message">
                        <p>ğŸ‘¥ Trabalhem em equipa!</p>
                        <p>ğŸ¤£ Riam muito!</p>
                        <p>ğŸ¯ Descubram juntos!</p>
                    </div>
                </div>
                
                <p class="start-message">Preparada para esta aventura em famÃ­lia? ğŸš€</p>
                
                <div class="button-group">
                    <button id="startButton">ComeÃ§ar o Desafio</button>
                    <button id="codeButton" class="code-button">Inserir CÃ³digo Final</button>
                </div>
            </div>
        </div>
        
        <div id="quiz" class="hidden">
            <h2>Quiz de Primos! ğŸ®</h2>
            <button id="backButton" class="back-button">â† Voltar</button>
            <div id="errorMessage" class="error-message hidden"></div>
            
            <div class="quiz-intro">
                <h3>ğŸ¯ Hora do Desafio!</h3>
                
                <div class="quiz-instructions">
                    <ul class="quiz-steps">
                        <li>ğŸ” As perguntas estÃ£o bloqueadas - resolvam uma de cada vez</li>
                        <li>ğŸ“ Cada resposta correta revela um nÃºmero importante</li>
                        <li>ğŸ”¢ Anotem os nÃºmeros na ordem que aparecem - eles formam o cÃ³digo final!</li>
                        <li>ğŸ¯ No final, usem o botÃ£o "Inserir CÃ³digo Final" para descobrir a prÃ³xima pista</li>
                    </ul>
                </div>
                
                <p class="quiz-start">Juntaste os primos? EntÃ£o vamos comeÃ§ar esta aventura! ğŸš€</p>
            </div>
            
            <div class="questions-container">
                <div class="question-block">
                    <form class="question-form" data-digit="1">
                        <div class="question">
                            <label>1. Na pÃ¡gina inicial estava uma fotografia nossa do ano passado. Quantas pessoas tÃªm gorro de natal na cabeÃ§a?</label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O primeiro dÃ­gito do cÃ³digo Ã©: <span class="digit">5</span></p>
                        </div>
                    </form>
                </div>

                <div class="question-block">
                    <form class="question-form" data-digit="2">
                        <div class="question">
                            <label>2. Qual Ã© o resultado do nÃºmero de porta de casa do almoÃ§o de Natal deste ano mais o nÃºmero de porta de casa do almoÃ§o de Natal do ano passado?</label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O segundo dÃ­gito do cÃ³digo Ã©: <span class="digit">2</span></p>
                            <p class="fun-fact">ğŸ˜± Curiosidade: Sabiam que tambÃ©m Ã© o nÃºmero de namorados da TÃ¢nia Carolina?</p>
                        </div>
                    </form>
                </div>

                <div class="question-block">
                    <form class="question-form" data-digit="3">
                        <div class="question">
                            <label>3. Quantos dias faltam para a TÃ¢nia Carolina tomar banho?</label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O terceiro dÃ­gito do cÃ³digo Ã©: <span class="digit">8</span></p>
                            <p class="fun-fact">ğŸ˜‚ Era a brincar, sabemos que Ã© sÃ³ mesmo na PÃ¡scoa! ğŸ°ğŸš¿</p>
                        </div>
                    </form>
                </div>

                <div class="question-block">
                    <form class="question-form" data-digit="4">
                        <div class="question">
                            <label>4. Quantas ripas de madeira tem a entrada de casa do Pedro e da SÃ³nia desde o teto ao chÃ£o da entrada?</label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O quarto dÃ­gito do cÃ³digo Ã©: <span class="digit">4</span></p>
                            <p class="fun-fact">âš½ Sabiam que 45 tambÃ©m Ã© a quantidade de minutos que o JoÃ£o Miguel jogou em duas Ã©pocas de futebol? Parece que ainda continua lesionado! ğŸ˜‚ğŸ¤£</p>
                        </div>
                    </form>
                </div>

                <div class="question-block">
                    <form class="question-form" data-digit="5">
                        <div class="question">
                            <label>5. A sequÃªncia abaixo segue um padrÃ£o escondido. Qual Ã© o prÃ³ximo nÃºmero?<br>
                            <span class="sequence">SequÃªncia: 1, 11, 21, 1211, 111221, ?</span></label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O quinto dÃ­gito do cÃ³digo Ã©: <span class="digit">9</span></p>
                        </div>
                    </form>
                </div>

                <div class="question-block">
                    <form class="question-form" data-digit="6">
                        <div class="question">
                            <label>6. Qual Ã© a soma dos nÃºmeros do dia, mÃªs e ano do casamento da Sofia e do Miguel menos a idade do Rui Machado mais 1?</label>
                            <input type="number" 
                                   inputmode="numeric" 
                                   pattern="[0-9]*"
                                   required min="0">
                        </div>
                        <button type="submit">Verificar</button>
                        <div class="digit-reveal hidden">
                            <p>ğŸ‰ Correto! O sexto dÃ­gito do cÃ³digo Ã©: <span class="digit">3</span></p>
                        </div>
                    </form>
                </div>
            </div>

            <div class="button-group final-code-button">
                <button id="codeButtonQuiz" class="code-button">Inserir CÃ³digo Final</button>
            </div>
        </div>

        <div id="enigma" class="hidden">
            <button id="backFromEnigmaButton" class="back-button">â† Voltar</button>
            <h2>ğŸ‰ ParabÃ©ns! Ãšltimo Desafio!</h2>
            <p class="success-message">Acertaram todas as perguntas! Agora sÃ³ falta um Ãºltimo passo para a Lili abrir o presente...</p>
            <div class="enigma-content">
                <h3>ğŸ” Enigma Final:</h3>
                <p class="enigma-verse">
                    Num lugar onde, no ano passado, nao tinha vida,<br>
                    Ouvi dizer que era o Miguel com fadiga,<br>
                    Uma chave espera, com um fio a brilhar,<br>
                    Pronta para quem souber procurar.<br>
                    <br>
                    Procurem com cuidado ao investigar,<br>
                    NÃ£o queremos estragar o que o Miguel quer preparar.<br>
                    Se for preciso andar,<br>
                    Lembrem-se de nÃ£o fazer o Miguel cansar!<br>
                    <br>
                    Com primos unidos, a busca Ã© divertida,<br>
                    A chave Ã© o prÃ©mio, a alegria Ã© garantida,<br>
                    EntÃ£o, olhem com calma, nÃ£o deixem de olhar,<br>
                    Na casa ao lado, a chave vai brilhar!
                </p>
                <p class="enigma-hint">
                    <span class="coordinates">51.507115, -0.563276</span>
                </p>
            </div>
        </div>

        <div id="code-section" class="hidden">
            <h2>ğŸ”’ CÃ³digo do Enigma</h2>
            <button id="backFromCodeButton" class="back-button">â† Voltar</button>
            <div class="lock-image">
                <img src="img/lock.svg" alt="Cadeado" id="lockImg">
            </div>
            <form id="codeForm">
                <div class="code-inputs">
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                    <input type="tel" 
                           inputmode="numeric" 
                           pattern="[0-9]*"
                           maxlength="1" 
                           class="code-digit" 
                           autocomplete="off"
                           required>
                </div>
                <div id="codeErrorMessage" class="error-message hidden"></div>
                <button type="submit">Verificar CÃ³digo</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>